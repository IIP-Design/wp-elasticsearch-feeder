!function(){var e={703:function(e,t,n){"use strict";var a=n(414);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,l){if(l!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.plugins,t=window.wp.element,a=window.wp.primitives,r=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,t.createElement)(a.Path,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"})),o=window.React,l=window.wp.components,i=window.wp.editPost,s=n(697),c=n.n(s);const p=e=>{let{msg:n="Verifying..."}=e;return(0,t.createElement)("div",{className:"inside",id:"index-spinner"},(0,t.createElement)("div",{className:"spinner is-active gpalab-spinner-animation"},(0,t.createElement)("span",{id:"index-spinner-text"},n)))};p.propTypes={msg:c().string};var d=p,u=window.wp.i18n;const m=e=>"string"!=typeof e?e:(0,u.__)(e,"gpalab-feeder"),{apiVars:{endpoint:g,token:b}}=window.gpalabFeederAdmin;var w=window.wp.compose,y=window.wp.data,f=(0,w.compose)((0,y.withSelect)(((e,t)=>{let{fallback:n="",label:a,metaKey:r,options:o}=t;return{label:a,options:o,selected:e("core/editor").getEditedPostAttribute("meta")[r]||n}})),(0,y.withDispatch)(((e,t)=>{let{metaKey:n}=t;return{setValue(t){e("core/editor").editPost({meta:{[n]:t}})}}})))((e=>{let{label:n,options:a,selected:r,setValue:o}=e;return(0,t.createElement)(l.SelectControl,{label:n,options:a,value:r,onBlur:e=>o(e.target.value),onChange:o})})),h=(0,w.compose)((0,y.withSelect)(((e,t)=>{let{fallback:n="",metaKey:a}=t;return{selected:e("core/editor").getEditedPostAttribute("meta")[a]||n}})),(0,y.withDispatch)(((e,t)=>{let{metaKey:n}=t;return{setValue(t){e("core/editor").editPost({meta:{[n]:t}})}}})))((e=>{let{help:n="",label:a,options:r,selected:o,setValue:i}=e;return(0,t.createElement)(l.RadioControl,{help:n,label:a,options:r,selected:o,onChange:e=>i(e)})}));const v=e=>{let{padding:n="0.5rem"}=e;return(0,t.createElement)("div",{style:{padding:n}})};v.propTypes={padding:c().string};var E=v;const _={display:"flex",alignItems:"center",justifyContent:"space-between"},P=e=>{let{color:n,title:a}=e;return(0,t.createElement)("div",{style:_},(0,t.createElement)("strong",null,`${m("Publish Status")}:`),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:`sync-status sync-status-${n}`,style:{marginRight:"0.2rem"},title:a}),(0,t.createElement)("div",{className:"sync-status-label"},a)))};P.propTypes={color:c().string,title:c().string};var x=P;const{languages:S,owners:C,syncStatus:T,visibleMeta:O}=window.gpalabFeederAdmin;const{visibleMeta:k}=window.gpalabFeederAdmin;(0,e.registerPlugin)("gpalab-feeder-panel",{icon:null,render:()=>(0,t.createElement)(i.PluginDocumentSettingPanel,{title:m("Publish to Content Commons")},(0,t.createElement)(h,{fallback:"yes",label:m("Include this post in Commons?"),metaKey:"_iip_index_post_to_cdp_option",options:[{label:m("Yes"),value:"yes"},{label:m("No"),value:"no"}]}),(0,t.createElement)(E,null),(null==O?void 0:O.language)&&(0,t.createElement)(f,{fallback:"en-us",label:m("Set Language"),metaKey:"_iip_language",options:S}),(null==O?void 0:O.owner)&&(0,t.createElement)(f,{label:m("Set Owner"),metaKey:"_iip_owner",options:C}),(0,t.createElement)(E,null),(0,t.createElement)(x,{color:T.color,title:T.title}))}),(0,e.registerPlugin)("gpalab-feeder-publish-confirm",{icon:null,render:()=>{const e=(0,y.select)("core/editor").getEditedPostAttribute("meta")._iip_index_post_to_cdp_option;return(0,t.createElement)(i.PluginPrePublishPanel,{title:`${m("Publish to Commons")}: ${e}`},(0,t.createElement)(h,{fallback:"yes",label:m("Include this post in Commons?"),metaKey:"_iip_index_post_to_cdp_option",options:[{label:m("Yes"),value:"yes"},{label:m("No"),value:"no"}]}))}}),null!=k&&k.debugger&&(0,e.registerPlugin)("gpalab-feeder-debugger-sidebar",{icon:r,render:()=>{const[e,n]=(0,o.useState)(""),[a,r]=(0,o.useState)(!1);return(0,t.createElement)(i.PluginSidebar,{name:"gpalab-feeder-debugger-sidebar",title:m("CDP API Debugger")},(0,t.createElement)("div",{style:{display:"flex",flexDirection:"column",padding:"1rem"}},(0,t.createElement)("p",null,m("Use this tool to check the post data returned from the CDP API.")),(0,t.createElement)(l.Button,{isSecondary:!0,onClick:()=>(async()=>{r(!0);const e=await(async()=>{const{apiVars:e,feederNonce:t}=window.gpalabFeederAdmin,n=new FormData;n.append("action","gpalab_feeder_debug"),n.append("method","GET"),n.append("security",t),n.append("url",e.endpoint);try{const e=await fetch(window.ajaxurl,{method:"POST",body:n}),t=await e.json();return"object"==typeof t?JSON.stringify({...t,content:"OMITTED"},null,2):t}catch(e){return e}})();n(e),r(!1)})(),style:{alignSelf:"flex-start"},text:m("Retrieve Data")}),a&&(0,t.createElement)(d,{msg:"Fetching post data from the API..."}),(0,t.createElement)("pre",{id:"es-response"},e)))}})}()}();